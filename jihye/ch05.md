# 5장 서비스 추상화

- 키워드
    - 추상화, 수직/수평 계층구조와 의존 관계, 단일 책임 원칙, 응집도, 테스트 대역
- 질문 만들기
    - 수평적인 분리와 수직적인 분리란?
    - 단일 책임 원칙을 위배하는 유형은?
    - Enum을 왜 쓸까?
    - 테스트 대역이 왜 필요할까?
- 질문 답안
    - 수평적인 분리와 수직적인 분리란?
        - 수평적인 분리
            - 애플리케이션 로직의 관심, 책임, 성격이 다르기 때문에 분리하는 것
        - 수직적인 분리
            - 애플리케이션 비즈니스 로직과 그 하위에서 동작하는 기술을 분리하는 것
    - 단일 책임 원칙을 위배하는 유형은?
        - 같은 책임을 가지는 코드가 여러 모듈에 나누어져 있는 경우
            - 만약 변경이 필요할 때 여러 모듈의 코드를 같이 수정해야 하고 그 과정에서 실수가 발생할 수도 있다. 물론 툴을 이용해서 일괄적으로 변경할 수 있긴 하지만.
        - 하나의 모듈에 여러 책임을 가지는 코드가 섞여 있는 경우
            - 한 가지 이유로 변경이 발생하면 모듈 대 코드를 수정하여 다른 역할의 코드에 영향을 줄 수 있게 되고 변경이 발생한 이유와 관련 없는 코드에 부수효과를 가져올 수 있게 된다.
    - Enum을 왜 쓸까?
        - 정의되지 않은 값 입력 자체를 할 수 없는 구조가 되고 실수로 작성한 코드는 컴파일 시점에 드러난다. 런타임 시점보다 컴파일 시점에 오류가 드러나는 게 낫다.
            - 왜 컴파일 에러가 더 나은가? 런타임 에러는 빌드 후 배포했을 때 사용자가 프로그램을 동작하다가 발생하는 에러인데 막대한 손실이 발생할 수도 있다.
    - 테스트 대역이 왜 필요할까?
        - 테스트에서 집중하고 있는 관심사는 아니지만 관심있는 테스트를 수행하기 위해 필수적으로 필요한 의존 대상이 존재할 수 있는데 만약 의존 대상이 일관된 동작을 하도록 설정하는데 시간이 많이 걸리거나 까다로우면 이를 테스트 대역으로 대체해서 테스트를 진행할 수 있다.
            - 즉 테스트 관심사에만 집중하여 테스트를 빠르게, 자주 실행할 수 있게 된다.